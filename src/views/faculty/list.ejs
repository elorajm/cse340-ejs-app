<%- include('../partials/header') %>

<h1>Faculty Directory</h1>

<form method="get" action="">
  <label for="sort">Sort by:</label>
  <select name="sort" id="sort" onchange="this.form.submit()">
    <option value="department" <%= currentSort === 'department' ? 'selected' : '' %>>Department</option>
    <option value="name" <%= currentSort === 'name' ? 'selected' : '' %>>Name</option>
    <option value="title" <%= currentSort === 'title' ? 'selected' : '' %>>Title</option>
  </select>
</form>

<ul class="faculty-list">
  <% faculty.forEach(f => { %>
    <li class="faculty-card">
      <img
        class="faculty-photo"
        src="/images/faculty/<%= f.slug %>.jpg"
        alt="Profile photo of <%= f.name %>"
      />
      <a href="/faculty/<%= f.slug %>"><%= f.name %></a>
      <div><%= f.department %></div>
      <% if (f.title) { %>
        <div><%= f.title %></div>
      <% } %>
    </li>
  <% }) %>
</ul>

<%- include('../partials/footer') %>
